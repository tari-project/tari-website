<!DOCTYPE html>
<html class="no-js">
  <head>

    
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Tari Protocol Discussion 6</title>

<meta property="og:description" content="Tari is a new open source, decentralized protocol that reimagines the future of digital assets." />
<meta property="og:site_name" content="Tari" />
<meta property="og:title" content="Tari Protocol Discussion 6" />
<meta property="og:url" content="http://localhost:4000/2018/11/14/tari-protocol-discussion-6.html" />
<meta property="og:image" content="http://localhost:4000/tari-splash.png" />
<meta property="og:image:secure_url" content="http://localhost:4000/tari-splash.png" />
<meta property="og:type" content="website" />
  
<meta name="description" content="Tari is a new open source, decentralized protocol that reimagines the future of digital assets." />
<meta itemprop="name" content="Tari"/>
<meta itemprop="title" content="Tari Protocol Discussion 6" />
<meta itemprop="url" content="http://localhost:4000/2018/11/14/tari-protocol-discussion-6.html"/>
<meta itemprop="thumbnailUrl" content="http://localhost:4000/tari-splash.png"/>
<meta itemprop="image" content="http://localhost:4000/tari-splash.png" />
<link rel="image_src" href="http://localhost:4000/tari-splash.png" />
  
<meta name="twitter:site" content="Tari">
<meta name="twitter:title" content="Tari Protocol Discussion 6"/>
<meta name="twitter:url" content="http://localhost:4000/2018/11/14/tari-protocol-discussion-6.html"/>
<meta name="twitter:image" content="http://localhost:4000/tari-splash.png"/>
<meta name="twitter:card" content="summary"/>

<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

<!-- CSS -->
<link rel="stylesheet" href="/css/owl.carousel.css" />
<link rel="stylesheet" href="/css/bootstrap.min.css" />
<link rel="stylesheet" href="/css/avenir-std.css" />
<link rel="stylesheet" href="/css/font-awesome.min.css" />
<link rel="stylesheet" href="/css/airspace.css" />
<link rel="stylesheet" href="/css/style.css" />
<link rel="stylesheet" href="/css/ionicons.min.css" />
<link rel="stylesheet" href="/css/animate.css" />
<link rel="stylesheet" href="/css/responsive.css" />
<link rel="stylesheet" href="/css/syntax.css" />

<!-- Js -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/vendor/jquery-1.10.2.min.js"><\/script>')</script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/owl.carousel.min.js"></script>
<script src="/js/plugins.js"></script>
<script src="/js/min/rellax.min.js"></script>
<script src="/js/min/waypoints.min.js"></script>
<script src="/js/jquery.counterup.js"></script>

<script src="/js/main.js"></script>

<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5b04a80b744e1cff"></script>



<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-115476091-1', 'auto');
    ga('send', 'pageview');
</script>


  </head>
  <body class="page-">


    <!-- Header Start -->
<header>
<div class="container">
  <div class="row">
    <!-- header Nav Start -->
    <nav class="navbar navbar-default">
      <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header col-md-4">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">
            <span class="visible-xs-inline visible-sm-inline"><svg class="logo--gem" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 70 71.1"><path d="M29.1 0L0 18.9v19.8L28.9 71 70 38.8V18.9L29.1 0zM29.7 8L63 23.4V32L12.7 19 29.7 8zM32.5 31.4l26.8 6.9L32.5 59.3V31.4zM7 24.8l18.5 4.7v27.1L7 36V24.8z"/></svg></span>
            <svg class="logo--wordmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 53.3 18"><path d="M21.1 0L15 18h3.9l1.3-4.2h5.3l1.3 4.2h3.9L24.6 0H21.1zM21.2 10.5l1.6-5.4 1.6 5.4H21.2z"/><rect x="49.6" width="3.6" height="18"/><path d="m40 11.1c3.3-0.2 5.2-2.2 5.2-5.5 0-3.5-2.1-5.5-5.7-5.5h-6.8v18h3.6v-5.6l5 5.6h4.7l-6.2-6.9 0.2-0.1zm-3.6-3.4v-4.3h3.1c1.4 0 2.1 0.8 2.1 2.2s-0.7 2.2-2.1 2.2h-3.1z"/><polygon points="6.1 18 9.7 18 9.7 3.4 15.8 3.4 15.8 0 0 0 0 3.4 6.1 3.4"/></svg>

          </a>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse col-md-8" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav navbar-right">
              <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      Documentation
                  </a>
                  <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                      <ul>
                          <li><a class="dropdown-item" href="#">Installation guide</a></li>
                          <li> <a class="dropdown-item" href="https://rfc.tari.com/" target="_blank">Tari RFC</a></li>
                      </ul>


                  </div>
              </li>
            <li><a href="https://www.github.com/tari-project" target="_blank">Source code </a></li>
            <li><a href="/blog">Blog</a></li>
            <li><a href="/faq">FAQ</a></li>
          </ul>
        </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluid -->
    </nav>
  </div>
</div>
</header><!-- header close -->



    <div class="post">

  <div class="container">
  <div class="row">
    <div class="col-md-8">

      <div class="post-img" style="background-image:url(/img/posts/protocol-discussion-6.png)">
          <img src="/img/posts/placeholder-spacer.gif" />
      </div>

      <div class="post-head">
        <h1>Tari Protocol Discussion 6</h1>
        <div class="row">
          <div class="col-sm-6">
            <div class="post-meta">
              <strong class="post-author">Tari Team</strong>
              <p class="post-date">November 14, 2018</p>
            </div>
          </div>
          <div class="col-sm-6">
            <div class="addthis_inline_share_toolbox"></div>
          </div>
        </div>
      </div>

      <!-- Wrapper Start -->
      <section id="post">
        <div class="block">
          
          <p>Monday’s Tari protocol architecture discussions focused on validator nodes and their role in executing Tari digital asset instructions.</p>

<p>This is the TL;DR of Monday’s conversation (full transcript included below):</p>

<p>Validator nodes</p>
<ul>
  <li>Can a single validator node perform digital asset instructions on its own or should there always be a number of them that work together?</li>
  <li>What transaction fee models might work best?</li>
  <li>Under what circumstances would it be more profitable to be a base layer miner node vs. a second layer asset validator node?</li>
</ul>

<p>Join us for our next discussion on Freenode in #tari-dev.
Discussion times proposed by the Tari community:</p>

<p><strong>Mondays: 8pm CAT (1pm EST)</strong></p>

<p><strong>Thursdays: 11am CAT (4am EST)</strong></p>

<p>To keep up with the latest Tari developments, you can follow the project on <a href="https://twitter.com/tari">Twitter</a>.</p>

<h3 id="transcript-of-todays-discussion">Transcript of today’s discussion</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1:01 PM &lt;@cjs77&gt; We’ve been throwing some ideas around about how the Tari 2nd layer might work. So base layer = PoW, merge-mined with Monero, handles Tari coin transfers. 2nd Layer = Digital assets layer.
1:01 PM → unknownids joined (unknownids@gateway/vpn/privateinternetaccess/unknownids)
1:02 PM &lt;cardboardoranges&gt; nice
1:03 PM &lt;@cjs77&gt; cardboardoranges: you can quickly catch up by scanning the archive for the last week or so
1:03 PM &lt;cardboardoranges&gt; how do I do that
1:03 PM &lt;cardboardoranges&gt; is there a pstebin somewhere
1:03 PM &lt;@cjs77&gt; One sec.
1:05 PM &lt;@cjs77&gt; Tari-dev logs https://usercontent.irccloud-cdn.com/file/EKrtcDXi/%23tari-dev-121118.txt
1:06 PM &lt;mikethetike&gt; On medium as well
1:06 PM &lt;mikethetike&gt; https://medium.com/tari-labs/today-we-hosted-the-first-of-many-discussions-about-taris-proposed-architecture-875ee07f4c8
1:06 PM &lt;cardboardoranges&gt; oh you really gave me everything ha
1:07 PM &lt;cardboardoranges&gt; the medium one is clean
1:07 PM &lt;mikethetike&gt; I think there are 4 on medium
1:08 PM &lt;@cjs77&gt; We’ve been discussing this idea of “validator nodes” (for want of a better descriptor) that post some collateral in order to execute Tari instructions.
1:09 PM &lt;@cjs77&gt; Tari instructions are things that change the state in Tari Digital assets (DAs)
1:09 PM &lt;cardboardoranges&gt; and validator nodes stand separately from “regular” nodes?
1:10 PM &lt;@cjs77&gt; e.g. “Transfer ownership this ticket token for a Beyonce concert to this public key”
1:10 PM &lt;@cjs77&gt; “regular” nodes, like on the base layer?
1:10 PM &lt;@cjs77&gt; i.e. validating Tari coin transfers?
1:10 PM &lt;@cjs77&gt; Yes, they’re different
1:13 PM &lt;@fluffypony&gt; I think figuring out those incentives is going to be hard
1:14 PM &lt;@fluffypony&gt; I wonder if the asset issuer can’t set the amount they’re willing to pay
1:14 PM &lt;@fluffypony&gt; for each state update
1:20 PM &lt;mikethetike&gt; should the state update be performed by the validator node creating a state update transaction on the base layer? if so, how do we envisage the fee being signed over? Maybe that’s too detailed for this point in the conversation
1:21 PM &lt;@fluffypony&gt; mikethetike: then everything is in the base layer
1:21 PM &lt;@fluffypony&gt; defeats the point of having a secondary layer
1:21 PM &lt;@fluffypony&gt; 5 billion state updates a second
1:22 PM &lt;@cjs77&gt; fluffypony: That makes sense for a lot of state updates, but not all, surely. If Alice buys a token and then wants to transfer it to Charlie, the asset issuer doesn’t need to be involved at all. In this case either A or C should pay the millTari (or whatever) to process the transaction. In any event, wouldn’t the market determine what the fee should be? In a permissionless setup, a validator node should have the right to say
1:22 PM &lt;@cjs77&gt; “no thanks” if it thinks the fee is too low. Then either the fee *is* too low, or there will be other nodes that spring up to take those fees.
1:23 PM &lt;@cjs77&gt; I think you have a strong case for setting fees apriori in “permissioned” mode where the asset issuer nominates specific nodes for validation
1:24 PM &lt;mikethetike&gt; it might be useful to get a glossary or set of terms defined. I was thinking of state checkpoints, not state updates
1:24 PM &lt;@cjs77&gt; I’m working on it :)
1:24 PM &lt;Hansie&gt; \me Hi there
1:25 PM &lt;@fluffypony&gt; what’s a state checkpoint
1:25 PM &lt;@cjs77&gt; What you cross to get from East to West Berlin
1:26 PM &lt;neonknight&gt; Can a single validator node perform the instruction on its own or should there always be a number of them that work together?
1:27 PM &lt;Hansie&gt; I guess it could depend on the asset issuer, how the initial contract was set up
1:29 PM &lt;@fluffypony&gt; cjs77: LOL
1:31 PM &lt;Hansie&gt; I do not understand how it could be possible for Alice and Bob to transact in assets that potentially only live on the 2nd layer without a validator node being involved, to perform the state update. Sure the two parties could transfer base layer tokens without validator nodes, but I wonder about the rest.
1:34 PM &lt;@cjs77&gt; @neonknight: As Hansie said, what if the DA issuer could decide? Either nominate nodes X,Y,Z (permissioned mode), or use some algorithm like “any n nodes that have &gt;= 1000 Tari as collateral” (permissionless mode). It would be assumed that the issuer trusts the nodes in the former case, but I presume a consensus mechanism is a must in the latter case
1:34 PM &lt;simian_za&gt; During a transfer like that does the asset issuer pay the fee or does Alice/Bob?
1:35 PM &lt;Hansie&gt; @cjs77: Yip, makes sense
1:40 PM &lt;Hansie&gt; @simian_za: The question in my mind is about economics and incentives. If I am a validator node and someone asks me to perform an asset type instruction I would want to be paid. If I am a base layer node and needs to construct transactions in a block and mine it I would want to be paid. I guess the asset issuer would pay all instructions that is of direct benefit, example a check point merkle root of the asset state on the
1:40 PM &lt;Hansie&gt; block chain, but would not really care about paying transfers costs between 3rd parties.
1:41 PM &lt;simian_za&gt; Suppose some instructions are paid for by the token owners (transfers) and so. E instructions are paid for by the asset issuer (e.g. Ticket redemption)
1:43 PM &lt;simian_za&gt; Hansie: agreed, if an asset issuer was responsible for transfer fees token owners could drain the issuers fee pool by transferring among themselves.
1:48 PM &lt;Hansie&gt; I wonder if it would be more profitable to be a base layer miner node or a 2nd layer asset validator node, and if the motivation and incentives for the two types of nodes could be like two different prime groups in ECC, not intersecting at all…
1:50 PM &lt;simian_za&gt; Miners will require different hardware setups (more compute) and be more expensive to run so the incentives will hopefully reflect that
1:51 PM &lt;neonknight&gt; I might be missing something, but I have an issue with the DA issuer being able to nominate nodes. Imagine a bad player (DA issuer) creates an asset and nominates his own bad validator nodes, wont he be able to perform some bad instructions without the base layer knowing the difference. This could potentially spam the base layer or even worst cause reputational damage to tari for allowing these instructions.
1:54 PM &lt;Hansie&gt; @simian_za: Mmmm… So Tari token mining could be some money on the side for the Monero miners, and the 2nd layer nodes could be in a different economic space
1:56 PM &lt;Hansie&gt; @neonknight: Bad DA issuer with bad nodes — example creating tickets for an event that does not exist, then scam people into buying tickets tickets that is worthless?
1:59 PM &lt;simian_za&gt; Or issue real assets and then fake transfers but accept real Tari as payment?
2:00 PM &lt;Hansie&gt; Bye for now
2:00 PM &lt;@cjs77&gt; neonknight: So what if there was a bounty of a validator nodes’ collateral to anyone who could provide a fraud proof that the node was malicious?
2:01 PM &lt;Hansie&gt; Ok, so I am back again. @cjs77, godidea
2:01 PM &lt;Hansie&gt; good idea
2:01 PM &lt;tk___&gt; maybe this would increase complexity but maybe the DA can choose any 2 of 5 nodes i.e 3 are randomly selected, and the DA can only select 2
2:03 PM &lt;neonknight&gt; This requires some thinking
2:03 PM &lt;simian_za&gt; Will need to be a cost to attempting to claim such a bounty or else there will be a lot accusations
2:04 PM &lt;@cjs77&gt; I know this is easier said than done, and now we need to get some number of (presumably) honest nodes to act in judgement of the accused nodes which is blech, but maybe there’s an elegant solution in there somewhere
2:04 PM &lt;@cjs77&gt; We just have a sign saying “Only honest nodes allowed”
2:04 PM &lt;@cjs77&gt; :-/
2:04 PM &lt;@cjs77&gt; Crypto is easy
2:05 PM &lt;tk___&gt; with a constitution that nodes have to sign it will work
2:05 PM &lt;@cjs77&gt; ya know?! I was thinking the same thing
2:05 PM &lt;simian_za&gt; A digitial pinky swear?
2:06 PM &lt;@cjs77&gt; BTW, I’m working on a proposal for github, which will provide some meat for these discussions, but I keep diving down rabbit holes, so it’s taking longer than I initially estimated.
</code></pre></div></div>

        </div>
      </section>

    </div>
  </div>
</div>
</div>

<!-- Call to action Start -->
<section id="call-to-action">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <a class="btn btn-lg" href="/blog">Back to blog</a>
                </div>
            </div>
        </div>
    </div>
</section>










    <!-- footer Start -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-md-1">

        <svg class="logo--gem" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 70 71.1"><path d="M29.1 0L0 18.9v19.8L28.9 71 70 38.8V18.9L29.1 0zM29.7 8L63 23.4V32L12.7 19 29.7 8zM32.5 31.4l26.8 6.9L32.5 59.3V31.4zM7 24.8l18.5 4.7v27.1L7 36V24.8z"/></svg>

      </div>
      <div class="col-md-5">

        <h1>Built in <strong>Oakland</strong> &amp; <strong>Johannesburg</strong></h1>

        <form id="email_signup" class=" klaviyo_bare_embed_L5CjJF" action="//manage.kmail-lists.com/subscriptions/subscribe" data-ajax-submit="//manage.kmail-lists.com/ajax/subscriptions/subscribe" method="GET" target="_blank" novalidate="novalidate">
  <input type="hidden" name="g" value="L5CjJF">
  <div class="klaviyo_messages">
    <div class="success_message" style="display:none;"></div>
    <div class="error_message" style="display:none;"></div>
  </div>
  <div class="klaviyo_field_group">
    <label for="k_id_email">Newsletter Sign Up</label>
    <input type="email" value="" name="email" id="k_id_email" placeholder="Enter email" />
  </div>
  <div class="klaviyo_form_actions">
    <button type="submit" class="btn btn-lg klaviyo_submit_button">Submit</button>
  </div>
  <p class="privacy-agreement">By clicking ‘Submit’, you agree to our <a href="/privacy_policy" title="Privacy Policy" target="_blank">Privacy Policy</a>.</p>
</form>
<script type="text/javascript" src="//www.klaviyo.com/media/js/public/klaviyo_subscribe.js"></script>
<script type="text/javascript">
  KlaviyoSubscribe.attachToForms('#email_signup', {
    hide_form_on_success: true
  });
</script>

        <p>Copyright &copy; 2018 Tari Labs, LLC. All rights reserved.<br/>
          <a href="/privacy_policy">Privacy Policy</a>&nbsp;
          <a href="/disclaimer">Disclaimer</a>.
        </p>

      </div>
      <div class="col-md-6">
        <div class="footer-menu clearfix">
          <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/docs">Docs</a></li>
            <li><a href="https://rfc.tari.com/" target="_blank">Tari RFC</a></li>
            <li><a href="https://www.github.com/tari-project" target="_blank">Source code</a></li>
            <li><a href="/blog">Blog</a></li>
            <li><a href="/faq">FAQ</a></li>
          </ul>
        </div>
        <div class="footer-socials">
          <ul class="social-icons">
            <li><a href="https://www.twitter.com/tari" target="_blank"><i class="ion-social-twitter"></i></a></li>
            <li><a href="https://www.facebook.com/tarilabs" target="_blank"><i class="ion-social-facebook"></i></a></li>
            <li><a href="https://www.reddit.com/r/tari" target="_blank"><i class="ion-social-reddit"></i></a></li>
            <li><a href="https://www.github.com/tari-project" target="_blank"><i class="ion-social-github"></i></a></li>
            <li><a href="https://t.me/tarilab" target="_blank"><i class="ion-paper-airplane"></i></a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</footer>


    </body>
</html>
